#ifdef VERT

attribute vec2 position;
attribute vec2 texCoord;
varying vec2 vTexCoord;

void main() {
  gl_Position = vec4(position.xy, 0.0, 1.0);
  vTexCoord = texCoord;
}

#endif

#ifdef FRAG

#pragma glslify: toLinear = require(glsl-gamma/toLinear)
#pragma glslify: fromLinear = require(glsl-gamma/fromLinear)

varying vec2 vTexCoord;
uniform float aspectRatio;
uniform float scale;
uniform vec4 color1;
uniform vec4 color2;

void main() {
  float tx = abs(vTexCoord.x - 0.5);
  float ty = abs(vTexCoord.y - 0.5);
  ty /= aspectRatio;
  float t = clamp(length(vec2(tx, ty)) * 2.0 / scale, 0.0, 1.0);
  vec4 color = mix(toLinear(color1), toLinear(color2), t);
  gl_FragColor = fromLinear(color);
}

#endif
